<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class Optimizer</title>
    <link rel="stylesheet" href="main.css">
</head>
<body>
   <div class = "menu-container">
        <nav>
            <ul>
                <li>
                    <a href="./index.html"> Home</a>
                </li>
                <li>
                    <a href="./combat_calculations.html"> Combat Calculations</a>
                </li>
                <li>
                    <a href="./class_optimizer.html"> Class Optimizer</a>
                </li>
                <li>
                    <a href="./items.html"> Item Effect Calculation</h2></a>
                </li>
            </ul>     
        </nav> 
        <div class="container">
            <div class="classoptomizer-container">
                <div class="classoptomizer-calculator">
                    <form id="classoptomizer-form">
                        <label for="class-name">Class</label>
                        <select id="class-name" name="class-name" required>
                            <option value="Alchemist">Alchemist</option>
                            <option value="Barbarian">Barbarian</option>
                            <option value="Bard">Bard</option>
                            <option value="Champion">Champion</option>
                            <option value="Cleric">Cleric</option>
                            <option value="Druid">Druid</option>
                            <option value="Fighter">Fighter</option>
                            <option value="Gunslinger">Gunslinger</option>
                            <option value="Inventor">Inventor</option>
                            <option value="Investigator">Investigator</option>
                            <option value="Kineticist">Kineticist</option>
                            <option value="Magus">Magus</option>
                            <option value="Monk">Monk</option>
                            <option value="Oracle">Oracle</option>
                            <option value="Psychic">Psychic</option>
                            <option value="Ranger">Ranger</option>
                            <option value="Rogue">Rogue</option>
                            <option value="Sorcerer">Sorcerer</option>
                            <option value="Suggestion">Summoner</option>
                            <option value="Swashbuckler">Swashbuckler</option>
                            <option value="Thaumaturge">Thaumaturge</option>
                            <option value="Witch">Witch</option>
                            <option value="Wizard">Wizard</option> 
                        </select>
                        <br>
                        <label for="level-input">Level</label>
                        <input id="level-input" type="number" required>
                        <br>
                        <label for="ancestry-input">Ancestry</label>
                        <select id="ancestry-input" name="ancestry-input" required>
                            <option value="Dwarf">Dwarf</option>
                            <option value="Elf">Elf</option>
                            <option value="Gnome">Gnome</option>
                            <option value="Goblin">Goblin</option>
                            <option value="Halfling">Halfling</option>
                            <option value="Human">Human</option>
                            <option value="Leshy">Leshy</option>
                            <option value="Orc">Orc</option>
                            <option value="Athamaru">Athamaru</option>
                            <option value="Azarketi">Azarketi</option>
                            <option value="Catfolk">Catfolk</option>
                            <option value="Centaur">Centaur</option>
                            <option value="Fetchling">Fetchling</option>
                            <option value="Gnoll">Gnoll</option>
                            <option value="Grippli">Grippli</option>
                            <option value="Hobgoblin">Hobgoblin</option>
                            <option value="Kitsune">Kitsune</option>
                            <option value="Kobold">Kobold</option>
                            <option value="Lizardfolk">Lizardfolk</option>
                            <option value="Merfolk">Merfolk</option>
                            <option value="Minotaur">Minotaur</option>
                            <option value="Nagaji">Nagaji</option>
                            <option value="Ratfolk">Ratfolk</option>
                            <option value="Tengu">Tengu</option>
                            <option value="Vanara">Vanara</option>
                            <!-- Add all other options here -->
                        </select>
                        <br>
                        <label for="background-input">Background</label>
                        <select id="background-input" name="background-input" required>
                            <option value="">Select a Background</option>
                            <option value="Acrobat.json">Acrobat</option>
                            <option value="Adept.json">Adept</option>
                            <option value="Animal Whisperer.json">Animal Whisperer</option>
                            <option value="Artisan.json">Artisan</option>
                            <option value="Artist.json">Artist</option>
                            <option value="Assassin.json">Assassin</option>
                            <option value="Barkeep.json">Barkeep</option>
                            <option value="Barrister.json">Barrister</option>
                            <option value="Bounty Hunter.json">Bounty Hunter</option>
                            <option value="Charlatan.json">Charlatan</option>
                            <option value="Cultist.json">Cultist</option>
                            <option value="Detective.json">Detective</option>
                            <option value="Entertainer.json">Entertainer</option>
                            <option value="Exile.json">Exile</option>
                            <option value="Farmhand.json">Farmhand</option>
                            <option value="Fisher.json">Fisher</option>
                            <option value="Fortune Teller.json">Fortune Teller</option>
                            <option value="Gambler.json">Gambler</option>
                            <option value="Guard.json">Guard</option>
                            <option value="Herbalist.json">Herbalist</option>
                            <option value="Hermit.json">Hermit</option>
                            <option value="Hunter.json">Hunter</option>
                            <option value="Laborer.json">Laborer</option>
                            <option value="Merchant.json">Merchant</option>
                            <option value="Miner.json">Miner</option>
                            <option value="Noble.json">Noble</option>
                            <option value="Nomad.json">Nomad</option>
                            <option value="Orphan.json">Orphan</option>
                            <option value="Outlander.json">Outlander</option>
                            <option value="Pirate.json">Pirate</option>
                            <option value="Prisoner.json">Prisoner</option>
                            <option value="Refugee.json">Refugee</option>
                            <option value="Sailor.json">Sailor</option>
                            <option value="Scholar.json">Scholar</option>
                            <option value="Scout.json">Scout</option>
                            <option value="Servant.json">Servant</option>
                            <option value="Smuggler.json">Smuggler</option>
                            <option value="Soldier.json">Soldier</option>
                            <option value="Street Urchin.json">Street Urchin</option>
                            <option value="Tinker.json">Tinker</option>
                            <option value="Warrior.json">Warrior</option>
                            <option value="Watchman.json">Watchman</option>
                        </select>

                        </select>
                        <br>
                        <button type="submit">Class Optimization Suggestion</button>
                    </form>
                </div>
                <div class="class_optimization">
                    <h2>Class Optimization</h2>
                </div>
                <div id="output"></div>
            </div>
        </div>
    </div>
    <script>
        // Folder containing JSON files
        const jsonFolder = "Background";
        const dropdown = document.getElementById("background-input");
        const output = document.getElementById("output");

        // List of available JSON files (manually or dynamically populated)
        const jsonFiles = ["background1.json", "background2.json"]; // Example file list

        // Populate the Background dropdown dynamically
        jsonFiles.forEach(file => {
            const option = document.createElement("option");
            option.value = file;
            option.textContent = file.replace(".json", "").replace(/_/g, " ");
            dropdown.appendChild(option);
        });

        // Handle form submission
        document.getElementById("classoptomizer-form").addEventListener("submit", event => {
            event.preventDefault(); // Prevent default form submission

            const selectedFile = dropdown.value;
            if (!selectedFile) {
                alert("Please select a background.");
                return;
            }

            const filePath = `${jsonFolder}/${selectedFile}`;
            fetch(filePath)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`Could not load file: ${selectedFile}`);
                    }
                    return response.json();
                })
                .then(data => {
                    displayData(data);
                })
                .catch(error => {
                    console.error("Error loading JSON:", error);
                    alert("An error occurred. Check the console for details.");
                });
        });

        // Function to display JSON data
        function displayData(data) {
            output.innerHTML = ""; // Clear previous output

            const card = document.createElement("div");
            card.className = "card";

            const name = document.createElement("h1");
            name.textContent = data.name || "Unknown Name";
            card.appendChild(name);

            const abilities = document.createElement("p");
            abilities.innerHTML = `<strong>Abilities:</strong> ${data.ability?.join(", ") || "None"}`;
            card.appendChild(abilities);

            const skills = document.createElement("p");
            skills.innerHTML = `<strong>Skills:</strong> ${data.skill?.join(", ") || "None"}`;
            card.appendChild(skills);

            const feat = document.createElement("p");
            feat.innerHTML = `<strong>Feat:</strong> <a href="${data.url || '#'}">${data.feat || "None"}</a>`;
            feat.innerHTML = `<strong>Feat:</strong> <p href="${data.url || '#'}">${data.feat || "None"}</p>`;
            card.appendChild(feat);

            const summary = document.createElement("p");
            summary.innerHTML = `<strong>Summary:</strong> ${data.summary || "No summary available."}`;
            card.appendChild(summary);

            output.appendChild(card);
        }
    </script>
</body>
</html>

        </div>
    </div>
</body>
</html>
